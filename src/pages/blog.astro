---
import BlogPost from "../components/BlogPost.astro";
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import type { MarkdownPageProps } from "../layouts/MarkdownLayout.astro";

const allPosts: LoadedFile[] = Object.values(
  import.meta.glob("./posts/*.md", { eager: true }),
);

export type LoadedFile = {
  frontmatter: MarkdownPageProps;
  url: string;
};
---

<Layout>
  <Card grid>
    {
      allPosts.map((post: any) => (
        <BlogPost url={post.url} frontmatter={post.frontmatter} />
      ))
    }
  </Card>
</Layout>
